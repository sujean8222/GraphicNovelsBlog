<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.54">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Sujean Gallego">
<meta name="dcterms.date" content="2024-07-31">
<meta name="description" content="Examining Graphic Novel trends in Adaptations">

<title>The Recipe to an Adaptation Blog Post – myblog</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">myblog</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com"> <i class="bi bi-twitter" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">The Recipe to an Adaptation Blog Post</h1>
                  <div>
        <div class="description">
          Examining Graphic Novel trends in Adaptations
        </div>
      </div>
                </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Sujean Gallego </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">July 31, 2024</p>
      </div>
    </div>
    
      <div>
      <div class="quarto-title-meta-heading">Modified</div>
      <div class="quarto-title-meta-contents">
        <p class="date-modified">July 30, 2024</p>
      </div>
    </div>
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<section id="the-recipe-to-an-adaptation" class="level1">
<h1>The Recipe to an Adaptation</h1>
<section id="resarch-by-sujean-gallego" class="level3">
<h3 class="anchored" data-anchor-id="resarch-by-sujean-gallego">Resarch by Sujean Gallego</h3>
<section id="july-31-2024" class="level4">
<h4 class="anchored" data-anchor-id="july-31-2024">July 31, 2024</h4>
</section>
</section>
</section>
<section id="i.-introduction" class="level1">
<h1>I. INTRODUCTION</h1>
<section id="an-overview" class="level2">
<h2 class="anchored" data-anchor-id="an-overview">1. An Overview</h2>
<p><em>adaptation – the action or process of adapting or being adapted.</em></p>
<p>Or a term to describe a piece of media, usually a television show or movie, that is based on pre-existing work, usually literary or theatrical work.</p>
<p>This type of work is very common, so much so that the Oscars even has a category “Best Adapted Screenplay.” Some of the films that won include:</p>
<ol type="1">
<li><em>The Godfather (1972)</em></li>
<li><em>L.A. Confidential (1997)</em></li>
<li><em>The Lord of the Rings: Return of the King (2003)</em></li>
<li><em>The Social Network (2010)</em></li>
<li><em>Moonlight (2016)</em></li>
</ol>
<p>Some recognizable titles also include:</p>
<ol type="1">
<li><em>The Color Purple (1985)</em></li>
<li><em>Shrek (2001)</em></li>
<li><em>Game of Thrones (2011)</em></li>
<li><em>The Handmaid’s Tale (2017)</em></li>
<li><em>The Last of Us (2023)</em></li>
<li><em>Oppenheimer (2023)</em></li>
</ol>
<p>And there is so much more!</p>
<p>Quickly scrolling through the list of winners in this category on Wikipedia, I noticed that most of these adaptations are based on novels. Very few were theatrical plays, musicals, and, especially, <strong>graphic novels</strong>. Of course, this could just be due to the fact that I was looking through a list of Oscar nominees. Maybe the Oscars don’t value adaptations based off of graphic novels. Or maybe the quality of adaptations that were made based on graphic novels were never good enough to gain an Oscar nomination. Or maybe there is just a lack of graphic novels in the literary space to begin with.</p>
<p>World renowned director Martin Scorscese once said, <em>“I don’t think [Marvel movies are] cinema”</em> (Connell). Marvel movies are all adapted works based on graphic novels, specifically in the superhero genre. Now that is a whole different conversation that can be very dividing. Something that I will not be delving into in this project. Nonetheless, this shows how graphic novels as a type of work are largely looked down upon. And this doesn’t just end at the lack of adaptations, this is also seen in literary space as well. They are often looked down upon as a lesser form of literature for their lack of text, abundance of pictures, and themes, which are usually superhero-based (Mwissell). People view them congruent to children’s books, which are less text and picture-based, and therefore view graphic novels work targeted towards children, incapable of revealing deeper meanings and insights to life as novels do.</p>
<p>Now the opposite is seen internationally. Countries such as Japan and South Korea are well known for their adaptations of graphic novels in the media space, and actually seem to be the preferred form of entertainment. Mangas (Japanese graphic novels) have become a major driving force in Japan’s economy (Luster) and top source for adaptations in Japanese entertainment, especially in anime. While not to the same extent, manhwas (South Korean graphic novels) have also been a relevant part of South Korean culture and media. Korean dramas such as The <em>Princess Hours</em> and <em>Boys Over Flowers</em> are examples of Korean entertainment adapted from graphic novels that have accumulated a large cultural significance and an iconic status. Like Japan, South Korean Webtoons—digitally published comics and graphic novels—have become the top source of adaptations for Korean Dramas. It seems much easier to adapt: storyboards are already laid out, a couple of changes can be made to suit the director, the script is basically all written. So…</p>
<p>Why aren’t we seeing the same trend in the United States? Is it really American pride and stigma preventing these graphic novels from receiving an adaptation?</p>
<p>Maybe not…? One example can be seen in Nick Drnasno’s <em>Sabrina</em>, published in 2018, which became the first ever graphic novel to be longlisted for the Booker Prize, a highly prestigious literary award that is selected from a longlist and shortlist of nominees every year (NewStatesman). Winning the Booker Prize basically means that said-book is the “best single work” published in said-year. And being nominated is a great achievement in itself. Sabrina was praised for its mature themes relevant to today’s society which was only elevated by its drawings and visual style (Park). Similar sentiments were met with the graphic novel <em>Persepolis</em> by Marjane Satrapi, which did get an animated feature adaptation in 2007. The film by the same name was also met with great critical acclaim receiving a 97% score on RottenTomatoes (RottenTomatoes).</p>
</section>
<section id="the-question" class="level2">
<h2 class="anchored" data-anchor-id="the-question">2. The Question</h2>
<p>With so many outside factors it’s hard to determine why graphic novels aren’t more adapted in today’s society. But maybe the books themselves can reveal traits or characteristics that may shed some light on what makes a good graphic novel for adaptation. In this project, I use data from the Graphic Narrative Corpus, to answer the question:</p>
<p><strong><em>What makes a good graphic novel for adaptation? or What is the recipe for scoring an adaptation as a graphic novel?</em></strong></p>
</section>
<section id="about-the-data" class="level2">
<h2 class="anchored" data-anchor-id="about-the-data">3. About the Data</h2>
<p>The data was collected by literary scholars and computer and cognitive scientists at Potsdam and Paderborn universities for a research project, funded by the German Federal Ministry of Education and Research. A total of 253 titles published in the United States, Great Britain, Canada, and India are included in the dataset. Requirements for inclusion were that novels had to be written in English, exceed 64 pages in length, tell one continuous story, target an adult audience and form one single volume or a limited series. Both nonfiction and fictional texts are included in the data, with a vast variety of genres. The project ran from 2014-2020, but includes texts published from the mid-70s to 2017, garnered through various types of collections such as academic databases, library collections, and online lists and bibliographies (cite). The GNC has a total of 20 tables [<em>Adaptation, Author, Book, Book Genre, Country, Ethnicity, Format, Gender, Genre, GNSource, Issue, Language, Place, Publisher, RelBookAuthor, RelBookIllustrator, Source, SourceCategory, SelectionSource,Translation</em>] each coming as their own .csv file. It was noted that because they used a “cheap” data GUI, they referred to the book title rather than the ID. In addition, a “Scheme” PDF file was given which lists brief information about each table and their respective variables, however, the table Book Genre was not listed in the pdf, it was only seen briefly in their Corpus Graph visualization. Some of the tables provided were simply selection sources–<em>or listed options/codes</em>–for columns in other variables. Thus, the tables used in this project were not “selection sources” and selected based on their importance in answering the research question. Specifically, we used the tables:</p>
<ol type="1">
<li>Adaptation, represented different adaptations (like movie, tv series, novel…) of graphic novels.</li>
<li>Author, information on the authors and illustrators.</li>
<li>Book, main table, contains the information on the books.</li>
<li>Book Genre, provides the genres for each of the books.</li>
<li>RelBookAuthor, junction table to represent the n:m relationship between the book and its authors.</li>
<li>Issue, represents the different issues published for a book.</li>
</ol>
<p>Link: https://groups.uni-paderborn.de/graphic-literature/gncorpus/corpus.php</p>
</section>
</section>
<section id="ii.-methods" class="level1">
<h1>II. METHODS</h1>
<section id="importing-and-cleaning-code" class="level2">
<h2 class="anchored" data-anchor-id="importing-and-cleaning-code">1. Importing and Cleaning Code</h2>
<section id="importing-libraries-and-.csv-files" class="level5">
<h5 class="anchored" data-anchor-id="importing-libraries-and-.csv-files">Importing libraries and .csv files</h5>
<div id="db2fa69a" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="bc1439d5" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>graphic_novels <span class="op">=</span> pd.read_csv(<span class="st">'https://raw.githubusercontent.com/sujean8222/GraphicNovels/main/Book.csv'</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>adaptations <span class="op">=</span> pd.read_csv(<span class="st">'https://raw.githubusercontent.com/sujean8222/GraphicNovels/main/Adaptation.csv'</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>authors <span class="op">=</span> pd.read_csv(<span class="st">'https://raw.githubusercontent.com/sujean8222/GraphicNovels/main/Author.csv'</span>)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>book_genres <span class="op">=</span> pd.read_csv(<span class="st">'https://raw.githubusercontent.com/sujean8222/GraphicNovels/main/BookGenre.csv'</span>)</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>issue <span class="op">=</span> pd.read_csv(<span class="st">'https://raw.githubusercontent.com/sujean8222/GraphicNovels/main/Issue.csv'</span>)</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>rel_book_author <span class="op">=</span> pd.read_csv(<span class="st">'https://raw.githubusercontent.com/sujean8222/GraphicNovels/main/RelBookAuthor.csv'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="data-cleaningorganization-code" class="level5">
<h5 class="anchored" data-anchor-id="data-cleaningorganization-code">Data Cleaning/Organization code:</h5>
<div id="5b47d52a" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>graphic_novels.columns <span class="op">=</span> [<span class="st">'ID'</span>, <span class="st">'Title'</span>, <span class="st">'Mentions'</span>, <span class="st">'Unclear'</span>, <span class="st">'Date Published'</span>, <span class="st">'Image'</span>, <span class="st">'Original Language'</span>, <span class="st">'Foreign Key'</span>,<span class="st">'GN_Source'</span>, <span class="st">'color_type'</span>, <span class="st">'Limited Series'</span>, <span class="st">'Book Series'</span>, <span class="st">'Unlimited Series'</span>, <span class="st">'ISBN'</span>, <span class="st">'Directory'</span>,<span class="st">'Avg Rating'</span>, <span class="st">'Number of Ratings'</span>, <span class="st">'Original Title'</span>, <span class="st">'Unlisted'</span>, <span class="st">'Unlisted'</span>, <span class="st">'Unlisted'</span>, <span class="st">'Unlisted'</span>, <span class="st">'University'</span>]</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>adaptations.columns <span class="op">=</span> [<span class="st">'ID'</span>, <span class="st">'BookID'</span>, <span class="st">'Type'</span>, <span class="st">'Title'</span>, <span class="st">'Publication'</span>]</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>authors.columns <span class="op">=</span> [<span class="st">'ID'</span>, <span class="st">'FirstName'</span>, <span class="st">'LastName'</span>, <span class="st">'Gender_ID'</span>, <span class="st">'CountryOfOriginID'</span>, <span class="st">'CountryOfResidence'</span>, <span class="st">'DateOfDeath'</span>, <span class="st">'DateOfBirth'</span>, <span class="st">'Ethnicity'</span>, <span class="st">'PenName'</span>]</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>book_genres.columns <span class="op">=</span> [<span class="st">'ID'</span>, <span class="st">'BookID'</span>, <span class="st">'SourceID'</span>, <span class="st">'GenreID'</span>, <span class="st">'isMain'</span>]</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>issue.columns <span class="op">=</span> [<span class="st">'ID'</span>, <span class="st">'FormatID'</span>, <span class="st">'Edition'</span>, <span class="st">'BookID'</span>, <span class="st">'LanguageID'</span>, <span class="st">'Mentions'</span>, <span class="st">'Pages'</span>, <span class="st">'PlaceOfPublicationID'</span>, <span class="st">'PublisherID'</span>, <span class="st">'Delete'</span>, <span class="st">'Date'</span>, <span class="st">'Width'</span>, <span class="st">'Depth'</span>, <span class="st">'Height'</span>, <span class="st">'Unit'</span>]</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>rel_book_author.columns <span class="op">=</span> [<span class="st">'ID'</span>, <span class="st">'BookID'</span>, <span class="st">'AuthorID'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="3f8728a9" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>graphic_novels.drop(columns<span class="op">=</span>[<span class="st">'Unclear'</span>, <span class="st">'Unlisted'</span>, <span class="st">'Unlisted'</span>, <span class="st">'Unlisted'</span>, <span class="st">'Unlisted'</span>, <span class="st">'University'</span>], inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>issue.drop(columns<span class="op">=</span><span class="st">'Delete'</span>, inplace <span class="op">=</span> <span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="0228133a" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>adaptations.loc[<span class="dv">17</span>, [<span class="st">'Type'</span>, <span class="st">'Title'</span>, <span class="st">'Publication'</span>]] <span class="op">=</span> [<span class="st">'Television series'</span>, <span class="st">'Games Of Thrones'</span>, <span class="st">'2011-04-17'</span>]</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>adaptations.loc[<span class="dv">18</span>, [<span class="st">'Type'</span>, <span class="st">'Title'</span>, <span class="st">'Publication'</span>]] <span class="op">=</span> [<span class="st">'Television series'</span>, <span class="st">'Games Of Thrones'</span>, <span class="st">'2011-04-17'</span>]</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>adaptations.loc[<span class="dv">24</span>, <span class="st">'Publication'</span>] <span class="op">=</span> <span class="st">'Never Published'</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>adaptations.loc[<span class="dv">42</span>, <span class="st">'Publication'</span>] <span class="op">=</span> <span class="st">'Never Published'</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>adaptations.loc[<span class="dv">55</span>, [<span class="st">'Type'</span>, <span class="st">'Title'</span>, <span class="st">'Publication'</span>]] <span class="op">=</span> [<span class="st">'Feature film'</span>, <span class="st">'Kakera'</span>, <span class="st">'2010-04-03'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="3376e9c8" class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>adaptations <span class="op">=</span> adaptations.drop(index<span class="op">=</span>[<span class="dv">24</span>, <span class="dv">42</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="78a0aa62" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>rel_book_author.loc[<span class="dv">26</span>, <span class="st">'AuthorID'</span>] <span class="op">=</span> <span class="dv">61</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>rel_book_author.loc[<span class="dv">48</span>, <span class="st">'AuthorID'</span>] <span class="op">=</span> <span class="dv">122</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>rel_book_author.loc[<span class="dv">128</span>, <span class="st">'AuthorID'</span>] <span class="op">=</span> <span class="dv">64</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>rel_book_author.loc[<span class="dv">132</span>, <span class="st">'AuthorID'</span>] <span class="op">=</span> <span class="dv">7</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>rel_book_author.loc[<span class="dv">133</span>, <span class="st">'AuthorID'</span>] <span class="op">=</span> <span class="dv">29</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>rel_book_author.loc[<span class="dv">154</span>, <span class="st">'AuthorID'</span>] <span class="op">=</span> <span class="dv">11</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>rel_book_author.loc[<span class="dv">219</span>, <span class="st">'AuthorID'</span>] <span class="op">=</span> <span class="dv">396</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>rel_book_author.loc[<span class="dv">220</span>, <span class="st">'AuthorID'</span>] <span class="op">=</span> <span class="dv">397</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="f30615d7" class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>authorID <span class="op">=</span> []</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> rel_book_author[<span class="st">'AuthorID'</span>]:</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> i <span class="kw">in</span> authors[<span class="st">'ID'</span>].values:</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    authorID.append(i)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="89663a80" class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>authors <span class="op">=</span> authors[authors[<span class="st">'ID'</span>].isin(authorID)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="7fe2875d" class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>authors.loc[<span class="dv">233</span>, <span class="st">'Gender_ID'</span>] <span class="op">=</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="f3957df6" class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>authors.loc[[<span class="dv">32</span>, <span class="dv">72</span>, <span class="dv">188</span>, <span class="dv">306</span>, <span class="dv">346</span>], <span class="st">'CountryOfOriginID'</span>] <span class="op">=</span> <span class="st">'USA'</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>authors.loc[[<span class="dv">103</span>, <span class="dv">212</span>], <span class="st">'CountryOfOriginID'</span>] <span class="op">=</span> <span class="st">'Canada'</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>authors.loc[<span class="dv">233</span>, <span class="st">'CountryOfOriginID'</span>] <span class="op">=</span> <span class="st">'Iran'</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="5b342414" class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>authors.loc[[<span class="dv">306</span>, <span class="dv">346</span>], <span class="st">'Ethnicity'</span>] <span class="op">=</span> <span class="st">'White'</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="0f5416fe" class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>issue.loc[<span class="dv">136</span>, <span class="st">'Pages'</span>] <span class="op">=</span> <span class="dv">128</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>issue.loc[<span class="dv">178</span>, <span class="st">'Pages'</span>] <span class="op">=</span> <span class="dv">152</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>issue.loc[<span class="dv">200</span>, <span class="st">'Pages'</span>] <span class="op">=</span> <span class="dv">240</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>issue.loc[<span class="dv">285</span>, [<span class="st">'Pages'</span>, <span class="st">'PlaceOfPublicationID'</span>, <span class="st">'PublisherID'</span>]] <span class="op">=</span> [<span class="dv">240</span>, <span class="st">'New York, USA'</span>, <span class="st">'Bantam Books'</span>]</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>issue.loc[<span class="dv">296</span>, [<span class="st">'Pages'</span>, <span class="st">'PlaceOfPublicationID'</span>]] <span class="op">=</span> [<span class="dv">224</span>, <span class="st">'Cincinnati, USA'</span>]</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>issue.loc[<span class="dv">318</span>, <span class="st">'Pages'</span>] <span class="op">=</span> <span class="dv">176</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="93dc3236" class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>rel_book_author.drop_duplicates(subset<span class="op">=</span>[<span class="st">'BookID'</span>, <span class="st">'AuthorID'</span>], inplace<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="040369de" class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>adaptations[<span class="st">'Publication'</span>] <span class="op">=</span> pd.to_datetime(adaptations[<span class="st">'Publication'</span>])</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>adaptations[<span class="st">'Year'</span>] <span class="op">=</span> adaptations[<span class="st">'Publication'</span>].dt.year</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>adaptations[<span class="st">'Month'</span>] <span class="op">=</span> adaptations[<span class="st">'Publication'</span>].dt.month</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>adaptations[<span class="st">'Day'</span>] <span class="op">=</span> adaptations[<span class="st">'Publication'</span>].dt.day</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>graphic_novels[<span class="st">'Date Published'</span>] <span class="op">=</span> pd.to_datetime(graphic_novels[<span class="st">'Date Published'</span>], <span class="bu">format</span><span class="op">=</span><span class="st">'%m/</span><span class="sc">%d</span><span class="st">/%y'</span>)</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>graphic_novels[<span class="st">'Year'</span>] <span class="op">=</span> graphic_novels[<span class="st">'Date Published'</span>].dt.year</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>graphic_novels[<span class="st">'Month'</span>] <span class="op">=</span> graphic_novels[<span class="st">'Date Published'</span>].dt.month</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>graphic_novels[<span class="st">'Day'</span>] <span class="op">=</span> graphic_novels[<span class="st">'Date Published'</span>].dt.day</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="methodology" class="level2">
<h2 class="anchored" data-anchor-id="methodology">2. Methodology</h2>
<p>Our ultimate goal is to answer the question: “What is the recipe for scoring an adaptation as a graphic novel?</p>
<p>We can begin by asking the question: “What are the traits in books that receive adaptations?”</p>
<p>To do so, we first must identify what <em>kind</em> of traits we want to examine…We look at the exploratory data to determine what factors (or columns) seemed to show the most variabilitly. - graphic_novels’s Year, the published year of books - graphic_novels’s Avg Rating, average ratings out of 5 stars of books on goodreads - graphic_novels’s Number of Ratings, amount of entires of ratings on goodreads - book_genres’s Genre, different genres of books - issues’s Pages, amount of pages per book</p>
<p>**Columns that had a dominant value were not included, as it is likely to be the same for all books.*</p>
<section id="below-are-some-examples-of-exploratory-data-visualizations-that-are-relevant-to-the-study" class="level4">
<h4 class="anchored" data-anchor-id="below-are-some-examples-of-exploratory-data-visualizations-that-are-relevant-to-the-study">Below are some examples of exploratory data visualizations that are relevant to the study:</h4>
<div id="6c256ca2" class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>adaptations[<span class="st">'Year'</span>].value_counts().plot(kind<span class="op">=</span><span class="st">'bar'</span>, color<span class="op">=</span><span class="st">'brown'</span>, figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">2</span>), title<span class="op">=</span><span class="st">'Frequency of Adaptations released per year'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="GraphicNovels_files/figure-html/cell-17-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Most of <strong>adaptations</strong> were published in the 2000s, specifically between 2005-2013. Adaptations began releasing in the early 1970s.</p>
<div id="7e1c4534" class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>graphic_novels[<span class="st">'Year'</span>].value_counts().plot(kind<span class="op">=</span><span class="st">'bar'</span>, color<span class="op">=</span><span class="st">'pink'</span>, figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">2</span>), title<span class="op">=</span><span class="st">'Frequency of Graphic Novel released per year'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="GraphicNovels_files/figure-html/cell-18-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Majority of <strong>graphic novels</strong> were published in the 2000s. There is an upward trend in publication of graphic novels as the years go by. The most popular year to publish was 2015.</p>
<div id="1a533a23" class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>graphic_novels.plot.scatter(x <span class="op">=</span> <span class="st">'Avg Rating'</span>, y <span class="op">=</span> <span class="st">'Number of Ratings'</span>, color<span class="op">=</span><span class="st">'pink'</span>, figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">3</span>), marker <span class="op">=</span> <span class="st">'o'</span>, title<span class="op">=</span><span class="st">'Number of Ratings vs. Average Rating Score'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="GraphicNovels_files/figure-html/cell-19-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Average book rating is around the 3.6-4.2 range. There is also a small correlation between number of ratings and average rating in that the more number of ratings, the higher average rating a book receives.</p>
<p>We must also identify the different groups we will be comparing.</p>
<p>Since we are testing adapted books, we will have to create a dataframe consisting of all books that have been adapted and compare that between all books and books that have not been adapted. It would also be interesting to test the difference between books that have been adapted more than once, books that have been adapted into a film, television series, and other.</p>
<p>In total, we have the following groups: - adapted books - books - non-adapted books - multiple adapted books - film adapted books - television adapted books - other adapted books</p>
</section>
<section id="below-is-the-code-we-used-to-create-the-groupings-of-dataframes" class="level4">
<h4 class="anchored" data-anchor-id="below-is-the-code-we-used-to-create-the-groupings-of-dataframes">Below is the code we used to create the groupings of dataframes:</h4>
</section>
<section id="adaptations---made-up-of-all-books-that-have-been-adapted." class="level4">
<h4 class="anchored" data-anchor-id="adaptations---made-up-of-all-books-that-have-been-adapted."><em>Adaptations</em> - made up of all books that have been adapted.</h4>
<div id="4f773101" class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>adap_books <span class="op">=</span> adaptations[[<span class="st">'BookID'</span>]].drop_duplicates().reset_index(drop<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="3c525718" class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>adap_books_title <span class="op">=</span> []</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> index, i <span class="kw">in</span> adap_books.iterrows():</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> index, book <span class="kw">in</span> graphic_novels.iterrows():</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> i[<span class="st">'BookID'</span>] <span class="op">==</span> book[<span class="st">'ID'</span>]:</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>      adap_books_title.append(book[<span class="st">'Title'</span>])</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>adap_books[<span class="st">'Title'</span>] <span class="op">=</span> adap_books_title</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="books---made-up-of-all-books." class="level4">
<h4 class="anchored" data-anchor-id="books---made-up-of-all-books."><em>Books</em> - made up of all books.</h4>
<div id="7b3c330c" class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>books <span class="op">=</span> graphic_novels[[<span class="st">'ID'</span>, <span class="st">'Title'</span>]]</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>books.columns <span class="op">=</span> [<span class="st">'BookID'</span>, <span class="st">'Title'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="non-adapted-books---made-up-of-all-books-that-have-not-been-adapated." class="level4">
<h4 class="anchored" data-anchor-id="non-adapted-books---made-up-of-all-books-that-have-not-been-adapated."><em>Non-Adapted Books</em> - made up of all books that have not been adapated.</h4>
<div id="866c0450" class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>no_adap_books <span class="op">=</span> books[<span class="op">~</span>books[<span class="st">'BookID'</span>].isin(adaptations[<span class="st">'BookID'</span>])].reset_index(drop<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="multiple-adapted-books---made-up-of-books-that-have-been-adapated-more-than-once." class="level4">
<h4 class="anchored" data-anchor-id="multiple-adapted-books---made-up-of-books-that-have-been-adapated-more-than-once."><em>Multiple-Adapted Books</em> - made up of books that have been adapated more than once.</h4>
<div id="9a71af68" class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>frequency_adaptations <span class="op">=</span> adaptations[<span class="st">'BookID'</span>].value_counts()</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>frequency_adaptations <span class="op">=</span> frequency_adaptations.reset_index()</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>frequency_adaptations.columns <span class="op">=</span> [<span class="st">'BookID'</span>, <span class="st">'Count'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="62e28b4d" class="cell" data-execution_count="24">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>mult_adap_id <span class="op">=</span> []</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> index, book <span class="kw">in</span> frequency_adaptations.iterrows():</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> book[<span class="st">'Count'</span>] <span class="op">&gt;</span> <span class="dv">1</span>: </span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>    mult_adap_id.append(book[<span class="st">'BookID'</span>])</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>mult_adap_name <span class="op">=</span> []</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> mult_adap_id:</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> index, book <span class="kw">in</span> graphic_novels.iterrows():</span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> book[<span class="st">'ID'</span>] <span class="op">==</span> i:</span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>      mult_adap_name.append(book[<span class="st">'Title'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="489e5c21" class="cell" data-execution_count="25">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>mult_adap <span class="op">=</span> pd.DataFrame({<span class="st">'BookID'</span>: mult_adap_id, <span class="st">'Title'</span>: mult_adap_name})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="film-adapted-books---made-up-of-books-that-have-been-adapated-into-films." class="level4">
<h4 class="anchored" data-anchor-id="film-adapted-books---made-up-of-books-that-have-been-adapated-into-films."><em>Film Adapted Books</em> - made up of books that have been adapated into films.</h4>
<div id="d230334d" class="cell" data-execution_count="26">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>conditions <span class="op">=</span> [adaptations[<span class="st">'Type'</span>].<span class="bu">str</span>.contains(<span class="st">'(?:Film|Movie|Feature)'</span>, case<span class="op">=</span><span class="va">False</span>, regex<span class="op">=</span><span class="va">True</span>),</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>              adaptations[<span class="st">'Type'</span>].<span class="bu">str</span>.contains(<span class="st">'(?:Television|Series|Mini)'</span>, case<span class="op">=</span><span class="va">False</span>, regex<span class="op">=</span><span class="va">True</span>)]</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>choices <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>]</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>adaptations[<span class="st">'TypeCode'</span>] <span class="op">=</span> np.select(conditions, choices, default<span class="op">=</span><span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="94d7221d" class="cell" data-execution_count="27">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>film_adap_id <span class="op">=</span> adaptations.loc[adaptations[<span class="st">'TypeCode'</span>] <span class="op">==</span> <span class="dv">1</span>, <span class="st">'BookID'</span>].tolist()</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>film_adap_name <span class="op">=</span> []</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> film_adap_id:</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> index, book <span class="kw">in</span> books.iterrows():</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> book[<span class="st">'BookID'</span>] <span class="op">==</span> i:</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>          film_adap_name.append(book[<span class="st">'Title'</span>])</span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>film_adap <span class="op">=</span> pd.DataFrame({<span class="st">'BookID'</span>: film_adap_id, <span class="st">'Title'</span>: film_adap_name})</span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>film_adap <span class="op">=</span> film_adap.drop_duplicates().reset_index(drop<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="television-adapted-dataframe---made-up-of-books-that-have-been-adapted-as-a-television-series-or-miniseries." class="level4">
<h4 class="anchored" data-anchor-id="television-adapted-dataframe---made-up-of-books-that-have-been-adapted-as-a-television-series-or-miniseries."><em>Television Adapted DataFrame</em> - made up of books that have been adapted as a television series or miniseries.</h4>
<div id="7ed9ff44" class="cell" data-execution_count="28">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>tel_adap_id <span class="op">=</span> adaptations.loc[adaptations[<span class="st">'TypeCode'</span>] <span class="op">==</span> <span class="dv">2</span>, <span class="st">'BookID'</span>].tolist()</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>tel_adap_name <span class="op">=</span> []</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> tel_adap_id:</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> index, book <span class="kw">in</span> books.iterrows():</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> book[<span class="st">'BookID'</span>] <span class="op">==</span> i:</span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>          tel_adap_name.append(book[<span class="st">'Title'</span>])</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>tel_adap <span class="op">=</span> pd.DataFrame({<span class="st">'BookID'</span>: tel_adap_id, <span class="st">'Title'</span>: tel_adap_name})</span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a>tel_adap <span class="op">=</span> tel_adap.drop_duplicates().reset_index(drop<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="other-adapted-dataframe---made-up-of-books-that-have-been-adapated-as-plays-video-games-novels-etc." class="level4">
<h4 class="anchored" data-anchor-id="other-adapted-dataframe---made-up-of-books-that-have-been-adapated-as-plays-video-games-novels-etc."><em>Other Adapted DataFrame</em> - made up of books that have been adapated as plays, video games, novels, etc.</h4>
<div id="573d90c8" class="cell" data-execution_count="29">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>oth_adap_id <span class="op">=</span> adaptations.loc[adaptations[<span class="st">'TypeCode'</span>] <span class="op">==</span> <span class="dv">3</span>, <span class="st">'BookID'</span>].tolist()</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>oth_adap_name <span class="op">=</span> []</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> oth_adap_id:</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> index, book <span class="kw">in</span> books.iterrows():</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> i <span class="op">==</span> book[<span class="st">'BookID'</span>]:</span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>      oth_adap_name.append(book[<span class="st">'Title'</span>])</span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>oth_adap <span class="op">=</span> pd.DataFrame({<span class="st">'BookID'</span>: oth_adap_id, <span class="st">'Title'</span>: oth_adap_name})</span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>oth_adap <span class="op">=</span> oth_adap.drop_duplicates().reset_index(drop<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="below-is-the-code-to-create-a-function-that-we-can-run-our-dataframes-through-to-get-the-top-traits-we-identified-earlier" class="level4">
<h4 class="anchored" data-anchor-id="below-is-the-code-to-create-a-function-that-we-can-run-our-dataframes-through-to-get-the-top-traits-we-identified-earlier">Below is the code to create a function that we can run our dataframes through to get the top traits we identified earlier:</h4>
<div id="9a76c725" class="cell" data-execution_count="30">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> top_traits(df, book_id):</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>  id_list <span class="op">=</span> df[book_id].tolist()</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>  year_list <span class="op">=</span> []</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>  avg_rating_list <span class="op">=</span> []</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>  num_rating_list <span class="op">=</span> []</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>  genre_list <span class="op">=</span> []</span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>  page_list <span class="op">=</span> []</span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> i <span class="kw">in</span> id_list:</span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> index, row <span class="kw">in</span> graphic_novels.iterrows():</span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> i <span class="op">==</span> row[<span class="st">'ID'</span>]:</span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a>        year_list.append(row[<span class="st">'Year'</span>])</span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a>        avg_rating_list.append(row[<span class="st">'Avg Rating'</span>])</span>
<span id="cb30-14"><a href="#cb30-14" aria-hidden="true" tabindex="-1"></a>        num_rating_list.append(row[<span class="st">'Number of Ratings'</span>])</span>
<span id="cb30-15"><a href="#cb30-15" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb30-16"><a href="#cb30-16" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> index, row <span class="kw">in</span> book_genres.iterrows():</span>
<span id="cb30-17"><a href="#cb30-17" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> i <span class="op">==</span> row[<span class="st">'BookID'</span>]:</span>
<span id="cb30-18"><a href="#cb30-18" aria-hidden="true" tabindex="-1"></a>        genre_list.append(row[<span class="st">'GenreID'</span>])</span>
<span id="cb30-19"><a href="#cb30-19" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb30-20"><a href="#cb30-20" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> index, row <span class="kw">in</span> issue.iterrows():</span>
<span id="cb30-21"><a href="#cb30-21" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> i <span class="op">==</span> row[<span class="st">'BookID'</span>]:</span>
<span id="cb30-22"><a href="#cb30-22" aria-hidden="true" tabindex="-1"></a>        page_list.append(row[<span class="st">'Pages'</span>])</span>
<span id="cb30-23"><a href="#cb30-23" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb30-24"><a href="#cb30-24" aria-hidden="true" tabindex="-1"></a>  genre_count <span class="op">=</span> pd.DataFrame(genre_list).value_counts().reset_index()</span>
<span id="cb30-25"><a href="#cb30-25" aria-hidden="true" tabindex="-1"></a>  genre_count.columns <span class="op">=</span> [<span class="st">'GenreType'</span>, <span class="st">'Count'</span>]</span>
<span id="cb30-26"><a href="#cb30-26" aria-hidden="true" tabindex="-1"></a>  genre_count <span class="op">=</span> genre_count.groupby(<span class="st">'Count'</span>).agg(<span class="bu">list</span>).reset_index()</span>
<span id="cb30-27"><a href="#cb30-27" aria-hidden="true" tabindex="-1"></a>  genres <span class="op">=</span> genre_count[genre_count[<span class="st">'Count'</span>] <span class="op">&gt;</span> <span class="dv">1</span>].sort_values(by<span class="op">=</span><span class="st">'Count'</span>, ascending<span class="op">=</span><span class="va">False</span>).reset_index(drop<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb30-28"><a href="#cb30-28" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb30-29"><a href="#cb30-29" aria-hidden="true" tabindex="-1"></a>  year <span class="op">=</span> <span class="bu">sum</span>(year_list)<span class="op">/</span><span class="bu">len</span>(year_list)</span>
<span id="cb30-30"><a href="#cb30-30" aria-hidden="true" tabindex="-1"></a>  avg_rating <span class="op">=</span> <span class="bu">sum</span>(avg_rating_list)<span class="op">/</span><span class="bu">len</span>(avg_rating_list)</span>
<span id="cb30-31"><a href="#cb30-31" aria-hidden="true" tabindex="-1"></a>  num_rating <span class="op">=</span> <span class="bu">sum</span>(num_rating_list)<span class="op">/</span><span class="bu">len</span>(num_rating_list)</span>
<span id="cb30-32"><a href="#cb30-32" aria-hidden="true" tabindex="-1"></a>  pages <span class="op">=</span> <span class="bu">sum</span>(page_list)<span class="op">/</span><span class="bu">len</span>(page_list)</span>
<span id="cb30-33"><a href="#cb30-33" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb30-34"><a href="#cb30-34" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> (<span class="bu">round</span>(year, <span class="dv">2</span>),</span>
<span id="cb30-35"><a href="#cb30-35" aria-hidden="true" tabindex="-1"></a>          <span class="bu">round</span>(avg_rating, <span class="dv">2</span>),</span>
<span id="cb30-36"><a href="#cb30-36" aria-hidden="true" tabindex="-1"></a>          <span class="bu">round</span>(num_rating, <span class="dv">2</span>),</span>
<span id="cb30-37"><a href="#cb30-37" aria-hidden="true" tabindex="-1"></a>          <span class="bu">round</span>(pages, <span class="dv">2</span>), </span>
<span id="cb30-38"><a href="#cb30-38" aria-hidden="true" tabindex="-1"></a>          genres.head(<span class="dv">3</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
</section>
<section id="iii.-results" class="level1">
<h1>III. Results</h1>
<div id="f7cac17f" class="cell" data-execution_count="31">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>adap_traits      <span class="op">=</span> top_traits(adap_books, <span class="st">'BookID'</span>)</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>books_traits     <span class="op">=</span> top_traits(books, <span class="st">'BookID'</span>)</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>no_adap_traits   <span class="op">=</span> top_traits(no_adap_books, <span class="st">'BookID'</span>)</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>mult_adap_traits <span class="op">=</span> top_traits(mult_adap, <span class="st">'BookID'</span>)</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>film_adap_traits <span class="op">=</span> top_traits(film_adap, <span class="st">'BookID'</span>)</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>tel_adap_traits  <span class="op">=</span> top_traits(tel_adap, <span class="st">'BookID'</span>)</span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>oth_adap_traits  <span class="op">=</span> top_traits(oth_adap, <span class="st">'BookID'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="18809b2a" class="cell" data-execution_count="32">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>traits_df <span class="op">=</span> pd.DataFrame({</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">'Group'</span>:[<span class="st">'All Adapted Books'</span>, <span class="st">'All Books'</span>, <span class="st">'Non-Adapted Books'</span>, <span class="st">'Multiple-Adapted Books'</span>, <span class="st">'Film Adapted Books'</span>, <span class="st">'Television Adapted Books'</span>, <span class="st">'Other Adapted Books'</span>],</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">'Year'</span>:[adap_traits[<span class="dv">0</span>], books_traits[<span class="dv">0</span>], no_adap_traits[<span class="dv">0</span>], mult_adap_traits[<span class="dv">0</span>], film_adap_traits[<span class="dv">0</span>], tel_adap_traits[<span class="dv">0</span>], oth_adap_traits[<span class="dv">0</span>]],</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">'Avg Rating'</span>:[adap_traits[<span class="dv">1</span>], books_traits[<span class="dv">1</span>], no_adap_traits[<span class="dv">1</span>], mult_adap_traits[<span class="dv">1</span>], film_adap_traits[<span class="dv">1</span>], tel_adap_traits[<span class="dv">1</span>], oth_adap_traits[<span class="dv">1</span>]],</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">'Total Ratings'</span>:[adap_traits[<span class="dv">2</span>], books_traits[<span class="dv">2</span>], no_adap_traits[<span class="dv">2</span>], mult_adap_traits[<span class="dv">2</span>], film_adap_traits[<span class="dv">2</span>], tel_adap_traits[<span class="dv">2</span>], oth_adap_traits[<span class="dv">2</span>]],</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">'Pages'</span>:[adap_traits[<span class="dv">3</span>], books_traits[<span class="dv">3</span>], no_adap_traits[<span class="dv">3</span>], mult_adap_traits[<span class="dv">3</span>], film_adap_traits[<span class="dv">3</span>], tel_adap_traits[<span class="dv">3</span>], oth_adap_traits[<span class="dv">3</span>]],</span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">'Genres'</span>:[adap_traits[<span class="dv">4</span>], books_traits[<span class="dv">4</span>], no_adap_traits[<span class="dv">4</span>], mult_adap_traits[<span class="dv">4</span>], film_adap_traits[<span class="dv">4</span>], tel_adap_traits[<span class="dv">4</span>], oth_adap_traits[<span class="dv">4</span>]]</span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="11635143" class="cell" data-execution_count="33">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>sources <span class="op">=</span> [<span class="st">'All Adapted Books'</span>, <span class="st">'All Books'</span>, <span class="st">'Non-Adapted Books'</span>, </span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>           <span class="st">'Multiple-Adapted Books'</span>, <span class="st">'Film Adapted Books'</span>, </span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>           <span class="st">'Television Adapted Books'</span>, <span class="st">'Other Adapted Books'</span>]</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>genre_traits_df <span class="op">=</span> []</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, source <span class="kw">in</span> <span class="bu">enumerate</span>(sources):</span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>    genres <span class="op">=</span> traits_df.loc[i, <span class="st">'Genres'</span>].explode(<span class="st">'GenreType'</span>)</span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>    genres[<span class="st">'Source'</span>] <span class="op">=</span> source</span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>    genre_traits_df.append(genres)</span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a>genre_traits_df <span class="op">=</span> pd.concat(genre_traits_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="fab085a8" class="cell" data-execution_count="34">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>genre_traits_df <span class="op">=</span> genre_traits_df.pivot(index<span class="op">=</span><span class="st">'Source'</span>, columns<span class="op">=</span><span class="st">'GenreType'</span>, values<span class="op">=</span><span class="st">'Count'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="the-ideal-year" class="level3">
<h3 class="anchored" data-anchor-id="the-ideal-year">The Ideal Year</h3>
<div id="95e0f351" class="cell" data-scrolled="true" data-execution_count="35">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>year_plot <span class="op">=</span> traits_df.plot.bar(x<span class="op">=</span><span class="st">'Group'</span>, y<span class="op">=</span><span class="st">'Year'</span>, color<span class="op">=</span><span class="st">'cornflowerblue'</span>, rot<span class="op">=</span><span class="dv">0</span>, figsize<span class="op">=</span>(<span class="dv">16</span>,<span class="dv">4</span>), xlabel<span class="op">=</span><span class="st">'Type of Group'</span>, ylabel<span class="op">=</span><span class="st">'Year'</span>, title<span class="op">=</span><span class="st">'Average Year Book Published per Group of Books'</span>)</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>year_plot.set_ylim(<span class="dv">1995</span>, <span class="dv">2005</span>)</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>ticks <span class="op">=</span> np.arange(<span class="dv">1995</span>, <span class="dv">2006</span>, <span class="dv">1</span>)</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>year_plot.set_yticks(ticks)</span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="GraphicNovels_files/figure-html/cell-36-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<ul>
<li>The average year published of all books lies around the year 2004.</li>
<li><strong>Books that have been adapted seem to come from books published around or before the year 2000.</strong></li>
<li>Books that have not been adapated on average have been newer releases, at least later than the average of all books.</li>
<li>Books that have received multiple adaptations significantly come from books published before the 2000s, around 1997-1998.</li>
<li>For books within adaptations, television adapated books have been published much later (newer) than film adapted and other adapted books.</li>
</ul>
</section>
<section id="the-ideal-rating-score" class="level3">
<h3 class="anchored" data-anchor-id="the-ideal-rating-score">The Ideal Rating Score</h3>
<div id="234e5100" class="cell" data-execution_count="36">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>avg_ratings_plot <span class="op">=</span> traits_df.plot.bar(x<span class="op">=</span><span class="st">'Group'</span>, y<span class="op">=</span><span class="st">'Avg Rating'</span>, color<span class="op">=</span><span class="st">'cornflowerblue'</span>, rot<span class="op">=</span><span class="dv">0</span>, figsize<span class="op">=</span>(<span class="dv">16</span>,<span class="dv">4</span>), xlabel<span class="op">=</span><span class="st">'Type of Group'</span>, ylabel<span class="op">=</span><span class="st">'Average Rating Score'</span>, title<span class="op">=</span><span class="st">'Average Rating Score per Group of Books'</span>)</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>avg_ratings_plot.set_ylim(<span class="fl">3.5</span>, <span class="dv">5</span>)</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="GraphicNovels_files/figure-html/cell-37-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<ul>
<li>The average rating of All Books lies just below 4.00.</li>
<li>Non-Adapted Books barely has any difference from the rating score of all books.</li>
<li><strong>Adapted Books perform much better in ratings than all books and non-adapted books, with an average score higher than 4.00</strong>.</li>
<li>Multiple-Adapted Books, Film, telelvision, and other adapted books performed around the same mark of all adapted books, 4.00.</li>
</ul>
</section>
<section id="the-ideal-amount-of-ratings" class="level3">
<h3 class="anchored" data-anchor-id="the-ideal-amount-of-ratings">The Ideal Amount of Ratings</h3>
<div id="bd7c6486" class="cell" data-execution_count="37">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>avg_number_plot <span class="op">=</span> traits_df.plot.bar(x<span class="op">=</span><span class="st">'Group'</span>, y<span class="op">=</span><span class="st">'Total Ratings'</span>, color<span class="op">=</span><span class="st">'cornflowerblue'</span>, rot<span class="op">=</span><span class="dv">0</span>, figsize<span class="op">=</span>(<span class="dv">16</span>,<span class="dv">4</span>), xlabel<span class="op">=</span><span class="st">'Type of Group'</span>, ylabel<span class="op">=</span><span class="st">'Average Total of Ratings'</span>, title<span class="op">=</span><span class="st">'Average Total of Ratings per Group of Books'</span>)</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>avg_number_plot.set_ylim(<span class="dv">0</span>, <span class="dv">70000</span>)</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="GraphicNovels_files/figure-html/cell-38-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<ul>
<li>All books have an average of around 15,000 entries of ratings.</li>
<li><strong>All Adapted books have a much larger amount of ratings than all books and non-adapted books, with 40,0000 entries</strong></li>
<li>Multiple-Adapted books have the highest amount of ratings with almost 70,000 entires.</li>
<li>Film adapted books have ratings entries around 55,0000.</li>
<li>Television adapated books have surprisingly low amounts of ratings, around the 10,000 mark.</li>
</ul>
</section>
<section id="the-ideal-amount-of-pages" class="level3">
<h3 class="anchored" data-anchor-id="the-ideal-amount-of-pages">The Ideal Amount of Pages</h3>
<div id="355bb9b4" class="cell" data-execution_count="38">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>pages_plot <span class="op">=</span> traits_df.plot.bar(x<span class="op">=</span><span class="st">'Group'</span>, y<span class="op">=</span><span class="st">'Pages'</span>, rot<span class="op">=</span><span class="dv">0</span>, figsize<span class="op">=</span>(<span class="dv">16</span>,<span class="dv">4</span>), xlabel<span class="op">=</span><span class="st">'Type of Group'</span>, ylabel<span class="op">=</span><span class="st">'Pages'</span>, color<span class="op">=</span><span class="st">'cornflowerblue'</span>, title<span class="op">=</span><span class="st">'Average Number of Pages per Group of Books'</span>)</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>ticks <span class="op">=</span> np.arange(<span class="dv">0</span>, <span class="dv">500</span>, <span class="dv">50</span>)</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>pages_plot.set_yticks(ticks)</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="GraphicNovels_files/figure-html/cell-39-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<ul>
<li>All Books have an average around 250 pages.</li>
<li>Non-adapted books fall just below All book pages.</li>
<li><strong>All Adapted Books are about 50 pages more in length than all books, with an average around 300</strong></li>
<li>Multiple Adapted Books are much higher in length, almost an average of 450 pages.</li>
</ul>
</section>
<section id="the-ideal-genre" class="level3">
<h3 class="anchored" data-anchor-id="the-ideal-genre">The Ideal Genre</h3>
<div id="f172598f" class="cell" data-scrolled="true" data-execution_count="40">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>genre_plot <span class="op">=</span> genre_traits_df.plot.bar(figsize<span class="op">=</span>(<span class="dv">16</span>,<span class="dv">4</span>), xlabel<span class="op">=</span><span class="st">'Group'</span>, width <span class="op">=</span> <span class="fl">0.7</span>, rot<span class="op">=</span><span class="dv">0</span>, color<span class="op">=</span>[<span class="st">'navy'</span>, <span class="st">'skyblue'</span>, <span class="st">'aquamarine'</span>, <span class="st">'seagreen'</span>, <span class="st">'lightcoral'</span>, <span class="st">'lightpink'</span>, <span class="st">'cornflowerblue'</span>, <span class="st">'goldenrod'</span>, <span class="st">'powderblue'</span>], title<span class="op">=</span><span class="st">'Top 3 Genres per group'</span>, ylabel<span class="op">=</span><span class="st">'Count'</span>)</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>ticks <span class="op">=</span> np.arange(<span class="dv">0</span>, <span class="dv">55</span>, <span class="dv">5</span>)</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>genre_plot.set_yticks(ticks)</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="GraphicNovels_files/figure-html/cell-40-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<ul>
<li>All Books and Non-Adapted books have the same top three genres: Literary Fiction, Memoir, and Fantasy.</li>
<li><strong>All Adapted Books top genres are Superhero, Fantasy, and, at a tie, Coming-Of-Age, Memoir, and Science Fiction.</strong></li>
<li>Film Adapted Books have the most variability in genres with the top genres beings: Superhero, Science Fiction, and Action/Adventure, Coming-Of-Age, Crime, Historical Fiction, and Memoir.</li>
<li>Multiple Adapted Books most popular genre is Historical Fiction.</li>
</ul>
</section>
</section>
<section id="iv.-discussion" class="level1">
<h1>IV. Discussion</h1>
<p>THE RECIPE FOR AN ADAPTATION:</p>
<ol type="1">
<li>Write a Superhero graphic novel (can substitute with Fantasy, Memoir, Coming-Of-Age, or Science Fiction)</li>
<li>Write at least 295.87 pages</li>
<li>Publish around 1999-2000</li>
<li>Get at least 39,680 people to read it and rate it.</li>
<li>Have those people rate the book at least 4 out of 5 stars.</li>
</ol>
<p>The ‘recipe’ above more so defines the average book that has been adapted, and less what it really takes to get a novel adapted. In truth, the recipe is unreplicable, an important part of recipes. For one, it is impossible to go back in time and publish a book. Therefore, it is important to think about the context in which these results and data come from. The graphic novels we are sampling are primarily United States published, English language, adult-oriented books. By only including books that have been published in the English language, the collectors cut out a large portion of untranslated international work that would have likely had more variety in genre and subject matter, as their graphic novels target a predominantly adult audience. It’s also important to note that the data was collected from 2016-2020, and capped published books in 2017. The earliest collected data is from the mid-70s, meaning that there are over 20 years of graphic novels published before the 2000s, and only 17 years after. This creates an obvious bias or skew towards books published in earlier years which affects the rest of the traits that reflect their cultural and societal trends. The earliest form of graphic novels in the U.S. begin with the comics from Marvel, who focus on the superhero genre. In the 60s, they began to extend their themes into longer pieces of work becoming considered graphic ‘novels’ targeted towards an older audience. This resurgence of the genre resulted in a positive feedback loop, where more popularity led to more books being made which resulted in more popularity.</p>
<p>Not only does this make graphic novels’s subject matter, genre, and values biased towards their cultural time, but their publishing year gives them an advantage of additional years to get read and rated across a greater audience and developed into an adaptation. The Walt Disney Production Company’s acquisition of Marvel comics led to the inevitable production of several adaptations of their comics. And the success of these films promoted the originals, which led to more people reading the book and rating it. We need to consider that the high ratings of stars and amount of ratings might be a result of being the original source of a beloved film. Since we have no exact data that lists the books’ scores and entries of ratings before getting adapted, it’s impossible to determine what the numbers that aided them to get adapted are. In fact, there is a large variability between the different adaptations, which leads us to call for uncertainty. Film-adapted books have a much higher total of rating entries with a total of 48,965, than television-adapted books that have a total of 8,438. However, the star ratings show television on top with an average of 4.11 stars and film with a rating of 4.05. Television-adapted books are also the latest published year, 2002, within all adaptations, all of which fall below the year 2000. This may further prove that their lack of entries in ratings is due to their earlier publishing date. Hence, all books published in later or recent years do not statistically perform as well as the earlier publications because they fall victim to their time of publishing and the time this data was collected.</p>
<p>This matter of timing also affects their inclusion of being considered an adaptation in this dataset. On average, it takes about 5-10 years for a film or television series to go into production and eventually get released (Dev-Dorrance). So, for example, if a book had been released in 2016, and got picked up for an adaptation in the same year, their adaptation wouldn’t get released until 2021~2026, and by that time data collection and the entire project would be closed. Looking at the data visualizations that concern all graphic novels, there seems to have been an increase in production of the medium as well as a variety in genre. Non-adapted books have the highest year average of 2004 followed by all books that have an average of 2003. Individual counts show that the most graphic novels were published in 2015, followed by 2012, and 2009. The graph is heavily skewed towards publishing years after the 2000s with a lot of the 1990s books trailing at the end. If we look at the genres of these newer releases, we can see a majority of books written in Literary Fiction, followed by Memoir and Science Fiction, given the fall in popularity of superhero books and films in recent years. Thus, if we fast forward 20 years from now, it’s likely that we will see an increase of those genres in adaptations.</p>
<p><strong><em>However, our results do not completely fail to answer the question…</em></strong></p>
<p>While it is not possible to list exact numbers of pages, ratings, etc. We can look at trends in the graph comparing all books and all adapted books to give a rough estimate that would be ideal. When considering terms like these,</p>
<p>UPDATED RECIPE:</p>
<ol type="1">
<li>Write a graphic novel in any genre</li>
<li>Write at least 50 pages longer than the average graphic novel.</li>
<li>Publish now (the earlier the better).</li>
<li>Get people to read it and become a popular book.</li>
<li>Have the book be rated higher in quality than the average graphic novel.</li>
</ol>
<p>*The underlying discovery is that there is a strong importance in writing about subject matters and themes for the time we are living in—reflecting cultural and societal values of the current time. That’s what led Marvel to become so popular as they displayed American heroes winning in a time of war. Exposure is the greatest tool to help one get adapted and following trends or commenting on current cultural and societal issues is a good way to relate to a greater audience. Writing a superhero prohibition graphic novel in 2020 is not likely to relate to an audience and circulate among many, and lacks the relevance to prompt an adaptation (RandomNotes).</p>
<p>In the end, do graphic novels need an adaptation?</p>
<p>No.&nbsp;</p>
<p>They don’t. But it would be nice. When novels or ideas get bought out, authors receive a payout and recognition that cements their hard work among others and themselves. It’s a sort-of honor to get one’s work made into a series or film, or anything really. As someone once said, imitation is the greatest form of flattery. Regardless of adaptation or not, graphic novels are severely underrated and deserve more recognition for the dedication of the writers and illustrators. Just because a book has pictures doesn’t mean we should discount its relevance, the quality of story and writing should be the greatest indicators of whether a book is good or not and deserving of an adaptation.</p>
<section id="works-cited" class="level6">
<h6 class="anchored" data-anchor-id="works-cited">Works Cited</h6>
<p>Connell, Pat. “A Rebuttal to Martin Scorsese’s Comments on Marvel.” The Heights, 24 Nov.&nbsp;2023, www.bcheights.com/2023/11/24/a-rebuttal-to-martin-scorseses-comments-on-marvel/.</p>
<p>Dev-Dorrance. “Page to Screen: How Books Become Movies.” Dorrance Publishing Company, 5 June 2019, www.dorrancepublishing.com/page-to-screen-how-books-become-movies/#:~:text=Movies%20can%20take%20a%20year%20in%20development,director%20is%20offered%20the%20next%20Marvel%20movie.</p>
<p>Luster, Joseph. “Manga Sales in Japan Reached Highest Point in History in 2022.” Otaku USA Magazine, 27 Feb.&nbsp;2023, otakuusamagazine.com/manga-sales-in-japan-reached-highest-point-in-history-in-2022/.</p>
<p>Mwissell. “Graphic Novels Fall Victim to ‘Social Norms’ Too.” Comics Studies, 11 Nov.&nbsp;2022, marywashicomics.net/article/graphic-novels-fall-victim-to-social-norms-too/.</p>
<p>“News for Authors.” Random Notes, authornews.penguinrandomhouse.com/trends-and-cultural-impact-in-graphic-books-novels-memoirs-comics-and-more/.</p>
<p>Park, Ed. “Can You Illustrate Emotional Absence? These Graphic Novels Do.” The New York Times, The New York Times, 31 May 2018, www.nytimes.com/2018/05/31/books/review/nick-drnaso-sabrina.html.</p>
<p>“Persepolis.” Rotten Tomatoes, www.rottentomatoes.com/m/persepolis.</p>
<p>“The Booker’s Big Bang.” New Statesman - The Booker’s Big Bang, web.archive.org/web/20120227193902/www.newstatesman.com/books/2008/10/booker-prize-british-literary.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/sujean8222\.github\.io\/GraphicNovelsBlog\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>